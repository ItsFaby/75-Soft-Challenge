<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>75 Soft Challenge: Redemption Edition - Tracker</title>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css" />

    <link
      rel="icon"
      type="image/png"
      href="https://img.icons8.com/external-flat-geotatah/64/external-diet-detoxification-flat-flat-geotatah-2.png"
    />
    <link
      rel="apple-touch-icon"
      href="https://img.icons8.com/external-flat-geotatah/180/external-diet-detoxification-flat-flat-geotatah-2.png"
    />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>ğŸ† 75 Soft Challenge: Redemption Edition</h1>
        <p class="subtitle">Â¡El que mÃ¡s puntos tenga gana $500! ğŸ’ª</p>
      </header>

      <!-- Tab Navigation -->
      <nav class="tab-navigation">
        <button class="tab-button active" data-tab="dashboard">
          ğŸ“Š Dashboard
        </button>
        <button class="tab-button" data-tab="daily">ğŸ“ Registro Diario</button>
        <button class="tab-button" data-tab="analytics">ğŸ“ˆ AnÃ¡lisis</button>
        <button class="tab-button" data-tab="history">ğŸ“œ Historial</button>
      </nav>

      <!-- Dashboard Tab -->
      <div id="dashboard" class="tab-content active">
        <!-- Podium/Ranking Section -->
        <div class="podium-container card">
          <h2 class="section-title">
            <span class="trophy">ğŸ†</span> Ranking Actual
          </h2>
          <div class="podium" id="podium">
            <!-- Generated by JS -->
          </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-container card">
          <h2 class="section-title">ğŸ“Š EstadÃ­sticas Generales</h2>
          <div class="stats-grid" id="statsGrid">
            <!-- Generated by JS -->
          </div>
        </div>
      </div>

      <!-- Daily Registration Tab -->
      <div id="daily" class="tab-content">
        <div class="daily-check-container card">
          <h2 class="section-title">ğŸ“ Registro Diario</h2>

          <div class="user-selector">
            <label for="currentUser">Usuario:</label>
            <select id="currentUser">
              <option value="">Selecciona tu nombre</option>
              <option value="Kevin">Kevin</option>
              <option value="Fabi">Fabi</option>
              <option value="Vivi">Vivi</option>
              <option value="Yuli">Yuli</option>
            </select>
          </div>

          <div class="date-display" id="dateDisplay"></div>

          <div class="penalty-alert" id="penaltyAlert"></div>

          <!-- Free Passes Section -->
          <div class="free-pass-section">
            <div class="free-pass-title">ğŸ« Pases Libres Semanales</div>
            <div class="free-pass-container">
              <div class="free-pass-item">
                <input type="checkbox" id="restDay" />
                <label for="restDay">ğŸ˜´ DÃ­a de descanso (sin ejercicio)</label>
                <span class="free-pass-count" id="restDayCount"
                  >1 por semana</span
                >
              </div>
              <div class="free-pass-item">
                <input type="checkbox" id="cheatMeal" />
                <label for="cheatMeal">ğŸ” Comida chatarra permitida</label>
                <span class="free-pass-count" id="cheatMealCount"
                  >1 por semana</span
                >
              </div>
            </div>
          </div>

          <!-- Daily Activities -->
          <div class="checklist" id="checklist">
            <div class="check-item" id="exerciseItem" data-activity="exercise">
              <input type="checkbox" id="exercise" value="exercise" />
              <label for="exercise">ğŸƒâ€â™‚ï¸ 45 minutos de ejercicio</label>
              <span class="points-indicator positive" id="exercisePoints"
                >+1 punto</span
              >
            </div>

            <div
              class="check-item"
              id="healthyFoodItem"
              data-activity="healthyFood"
            >
              <input type="checkbox" id="healthyFood" value="healthyFood" />
              <label for="healthyFood">ğŸ¥— Comer saludable</label>
              <span class="points-indicator positive" id="healthyFoodPoints"
                >+1 punto</span
              >
            </div>

            <div class="check-item" data-activity="reading">
              <input type="checkbox" id="reading" value="reading" />
              <label for="reading"
                >ğŸ“š 10 pÃ¡ginas de libro o 15 min de podcast</label
              >
              <span class="points-indicator positive">+1 punto</span>
            </div>

            <div class="check-item" data-activity="water">
              <input type="checkbox" id="water" value="water" />
              <label for="water">ğŸ’§ Tomar 2L de agua</label>
              <span class="points-indicator positive">+1 punto</span>
            </div>

            <div
              class="check-item"
              id="noAlcoholItem"
              data-activity="noAlcohol"
            >
              <input type="checkbox" id="noAlcohol" value="noAlcohol" />
              <label for="noAlcohol">ğŸš« No alcohol ni Coca Zero</label>
              <span class="points-indicator positive" id="noAlcoholPoints"
                >+1 punto</span
              >
            </div>
          </div>

          <!-- Bonus Challenges -->
          <div class="bonus-section">
            <div class="bonus-title">â­ Reto Bonus del DÃ­a</div>
            <div class="bonus-item">
              <input type="checkbox" id="dailyBonus" />
              <label for="dailyBonus" id="dailyBonusLabel">Loading...</label>
              <span class="bonus-points">+1 punto</span>
            </div>
          </div>

          <div class="bonus-section weekly">
            <div class="bonus-title">ğŸ¯ Reto Semanal Personal</div>
            <div class="bonus-item">
              <input type="checkbox" id="weeklyBonus" disabled />
              <label for="weeklyBonus">Completa TUS 7 dÃ­as de la semana</label>
              <span class="bonus-points">+4 puntos</span>
            </div>
            <div class="weekly-progress" id="weeklyProgress">
              <!-- Generated by JS -->
            </div>
          </div>

          <button class="submit-button" id="submitDaily">
            Registrar DÃ­a Completado ğŸš€
          </button>
        </div>
      </div>

      <!-- Analytics Tab -->
      <div id="analytics" class="tab-content">
        <div class="charts-grid">
          <div class="chart-box card">
            <h3 class="chart-title">ğŸ“Š Rendimiento por CategorÃ­a</h3>
            <div class="chart-wrapper">
              <canvas id="categoryChart"></canvas>
            </div>
          </div>

          <div class="chart-box card">
            <h3 class="chart-title">ğŸ“ˆ Progreso de Puntos (7 dÃ­as)</h3>
            <div class="chart-wrapper">
              <canvas id="progressChart"></canvas>
            </div>
          </div>

          <div class="chart-box card full-width">
            <h3 class="chart-title">
              ğŸ¯ Cumplimiento Individual por Actividad
            </h3>
            <div class="chart-wrapper">
              <canvas id="activityChart"></canvas>
            </div>
          </div>

          <div class="chart-box card full-width">
            <h3 class="chart-title">ğŸ“… Tendencia Mensual</h3>
            <div class="chart-wrapper">
              <canvas id="monthlyChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- History Tab -->
      <div id="history" class="tab-content">
        <div class="history-container card">
          <h2 class="section-title">ğŸ“œ Historial de Puntos</h2>

          <div class="history-filters">
            <select id="historyUser">
              <option value="all">Todos los usuarios</option>
              <option value="Kevin">Kevin</option>
              <option value="Fabi">Fabi</option>
              <option value="Vivi">Vivi</option>
              <option value="Yuli">Yuli</option>
            </select>

            <select id="historyPeriod">
              <option value="7">Ãšltimos 7 dÃ­as</option>
              <option value="14">Ãšltimos 14 dÃ­as</option>
              <option value="30">Ãšltimos 30 dÃ­as</option>
              <option value="all">Todo</option>
            </select>
          </div>

          <div id="historyContent">
            <!-- Generated by JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="mockData.js"></script>
    <script src="firebase-service.js"></script>
    <script src="data-service.js"></script>
    <script src="charts.js"></script>
    <script src="app.js"></script>
  </body>
</html>
